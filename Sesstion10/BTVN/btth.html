<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        let squad = [
            { id: 1, name: "Nguyen Van A", goals: 10, position: "FW" },
            { id: 2, name: "Tran Van B", goals: 5,  position: "MF" },
            { id: 3, name: "Le Van C",   goals: 0,  position: "DF" },
            { id: 4, name: "Pham Van D", goals: 12, position: "FW" },
            { id: 5, name: "Dang Van E", goals: 0,  position: "GK" }
        ];

        function listName(squad) {
            squad.forEach(function(list) {
                let listData = `Mã[${list.id}] - [${list.name}] ([${list.position}]): [${list.goals}] bàn`;
                console.log(listData); 
                // return listData;
            })
        }

        function addPlayer(squad) {
            let id = squad.length + 1;
            let name = prompt("Nhập tên");
            let goals = prompt("Nhập bàn thắng");
            let position = prompt("Nhập Vị trí");

            let newPlayer = {
                id,
                name,
                goals,
                position
            }

            squad.push(newPlayer);
        }

        function findPlayer(squad) {
            let findId = +prompt("nhập id cầu thủ cần tìm");
            let search = squad.find((fid) => findId === fid.id);

            if(search){
                let infoPlayer = `Mã[${search.id}] - [${search.name}] ([${search.position}]): [${search.goals}] bàn`;
                console.log(infoPlayer); 
            }else{
                console.log("ko tìm thấy");
            }
        }

        function updateGoals(squad) {
            let findId = +prompt("Nhập ID cầu thủ vừa ghi bàn.");
            let search = squad.find((fid) => findId === fid.id);
            
            if(search){
                search.goals = search.goals + 1;
            }
            
            let listUpdate = `Đã cập nhật bàn thắng cho cầu thủ [${search.name}] thành [${search.goals}]`
                console.log(listUpdate);
                return listUpdate;
        }

        function deletePlayers(squad) {
            let findId = +prompt("Nhập ID cầu thủ cần chuyển nhượng:");

            let index = squad.findIndex(player => player.id === findId);

            if (index !== -1) {
                let removedPlayer = squad[index];

                squad.splice(index, 1);

                console.log(`Đã chuyển nhượng cầu thủ: ${removedPlayer.name}`);
                return `Đã xóa ${removedPlayer.name}`;
            } else {
                console.log("Không tìm thấy cầu thủ");
                return "Không tìm thấy";
            }
        }
        let choice;
        do {
            choice = prompt(`
            === QUẢN LÝ ĐỘI BÓNG (OBJECT) ===
1. Xem danh sách
2. Thêm cầu thủ
3. Tìm kiếm (theo ID)
4. Cập nhật bàn thắng
5. Xóa cầu thủ
0. Thoát
            `)
            switch (choice) {
                case "1":
                    listName(squad);
                    break;
                case "2":
                    addPlayer(squad);
                    break;
                case "3":
                    findPlayer(squad);
                    break;
                case "4":
                    updateGoals(squad);
                    break;
                case "5":
                    deletePlayers(squad);
                    break;
                case "0":
                    console.log("bai bai");
                    break;
                default:
                    console.log("nhập sai");
                    break;
            }
        } while (choice !== "0");

    </script>
</body>
</html>